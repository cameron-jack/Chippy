*****
Tasks
*****

TODO handle the output format for bowtie
    - options?
    - sizes
    - parsing difficulty?

TODO handle writing out non-pristine seqs too
- retain writing out fastq to separate files for pristine and not-pristine

TODO instead of:
- fastq --> fasta --> blat --> fasta from fasta;
Do
- fastq --> fasta --> blat --> fastq from fastq;

TODO better approach to running stats
    - we have a bounded integer problem so we should exploit it. I.e. each sequence position takes a value between 2-40 and the sequences are L long. So we only need to store an array of counts such that each row index is the score. This will also allow us to compute the median, quantiles etc ..

***************
Data properties
***************

Saturday, 05 June 2010

s6 file - 26963573 sequences
s7 file - 24755667 sequences
s8 file - 27669319 sequences

**************
Running Bowtie
**************

#. The batch_bowtie_m.txt is in /Chipseq/src
#. bowtie command used for analyeses is: gridsub -x ./bowtie -a "-f -t -a -m 1 mouse_genome_index reads/s_6_pristine.fasta s_6_pristine_bowtie_m.map"
#. The output is stored tremethcik/results/bowtie_results/*bowtie_m.map
#. -f: query input files are fasta
#. -t: the amount of wall-clock time taken by each phase
#. -a: report all valid alignments per read or pair
#. -m 1: suppress all alignments for a particular read or pair if more than 1 reportable alignments exist for it

**********
References
**********

Fastq Format:
http://en.wikipedia.org/wiki/FASTQ_format
http://maq.sourceforge.net/fastq.shtml

Quality Scores:
http://docs.google.com/fileview?id=0B-lLYVUOliJFYjlkNjAwZjgtNDg4ZC00MTIyLTljNjgtMmUzN2M0NTUyNDE3&hl=en

Calculating Standard Deviation for large data sets"
http://en.wikipedia.org/wiki/Algorithms_for_calculating_variance"
